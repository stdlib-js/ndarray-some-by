// Copyright (c) 2025 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import e from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-property@v0.2.1-esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-function@v0.2.2-esm/index.mjs";import{isPrimitive as r}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-integer@v0.2.2-esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-ndarray-like@v0.2.2-esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-assert-is-integer-data-type@v0.2.2-esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-unary-reduce-subarray-by@esm/index.mjs";import d from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-some-by@esm/index.mjs";import m from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-spread-dimensions@esm/index.mjs";import o from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-indices-complement@esm/index.mjs";import a from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-dtype@v0.2.2-esm/index.mjs";import l from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-shape@v0.2.2-esm/index.mjs";import p from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-order@v0.2.2-esm/index.mjs";import j from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-data-buffer@v0.2.2-esm/index.mjs";import h from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-strides@v0.2.2-esm/index.mjs";import f from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-offset@v0.2.2-esm/index.mjs";import b from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-defaults@v0.3.0-esm/index.mjs";import v from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-empty@v0.3.0-esm/index.mjs";import c from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-ctor@v0.2.2-esm/index.mjs";import u from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-maybe-broadcast-array@v0.2.3-esm/index.mjs";import g from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-broadcast-scalar@v0.2.2-esm/index.mjs";import y from"https://cdn.jsdelivr.net/gh/stdlib-js/strided-base-reinterpret-boolean@v0.0.2-esm/index.mjs";import w from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-take-indexed@v0.2.2-esm/index.mjs";import x from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-zero-to@v0.2.1-esm/index.mjs";import E from"https://cdn.jsdelivr.net/gh/stdlib-js/object-assign@v0.2.2-esm/index.mjs";import T from"https://cdn.jsdelivr.net/gh/stdlib-js/error-tools-fmtprodmsg@v0.2.2-esm/index.mjs";import k from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-plain-object@v0.2.2-esm/index.mjs";import S from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-has-own-property@v0.2.2-esm/index.mjs";import{isPrimitive as V}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-boolean@esm/index.mjs";import{primitives as O}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-integer-array@esm/index.mjs";import z from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-empty-collection@esm/index.mjs";import _ from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-to-unique-normalized-indices@esm/index.mjs";import q from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-join@esm/index.mjs";import N from"https://cdn.jsdelivr.net/gh/stdlib-js/error-tools-fmtprodmsg@esm/index.mjs";import P from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-ndims@v0.2.2-esm/index.mjs";var R={dims:null,keepdims:!1};function A(e,s,r){var t;if(!k(r))return new TypeError(N("null2V",r));if(S(r,"keepdims")&&(e.keepdims=r.keepdims,!V(e.keepdims)))return new TypeError(N("null2o","keepdims",e.keepdims));if(S(r,"dims")){if(e.dims=r.dims,!O(e.dims)&&!z(e.dims))return new TypeError(N("invalid option. `%s` option must be an array of integers. Option: `%s`.","dims",e.dims));if(null===(t=_(e.dims,s-1)))return new RangeError(N("invalid option. `%s` option contains an out-of-bounds dimension index. Option: [%s].","dims",q(e.dims,",")));if(t.length!==e.dims.length)return new Error(N("invalid option. `%s` option contains duplicate indices. Option: [%s].","dims",q(e.dims,",")));e.dims=t}return null}var B=b.get("dtypes.integer_index");function C(e,b,k,S,V){var O,z,_,q,N,P,C,D,F,G,H,I,J,K,L;if(O=arguments.length,!t(e))throw new TypeError(T("null5t",e));if(O<4){if(!s(k))throw new TypeError(T("null3N",k));H=k}else if(O>4){if(G=!0,L=k,!s(H=S))throw new TypeError(T("null32",H));q=V}else if(s(k))H=k,q=S;else{if(!s(S))throw new TypeError(T("null32",S));G=!0,L=k,H=S}if(I=(C=l(e)).length,z=E({},R),G&&(N=A(z,I,L)))throw N;if(null===z.dims&&(z.dims=x(I)),P=o(I,z.dims),D=w(C,P),F=p(e),t(b)){if(!i(a(b)))throw new TypeError(T("invalid argument. Second argument must have an integer data type. Value: `%s`.",b));try{J=u(b,D)}catch(N){throw new Error("invalid argument. Second argument must be broadcast-compatible with the non-reduced dimensions of the input array.")}}else{if(!r(b))throw new TypeError(T("invalid argument. Second argument must be an integer or an ndarray-like object. Value: `%s`.",b));J=g(b,B,D,F)}return K=v(D,{dtype:"bool",order:F}),_=new c("uint8",y(j(K),0),D,h(K,!1),f(K),p(K)),n(d,[e,_,J],z.dims,H,q),z.keepdims&&(K=m(I,K,P)),K}var D=b.get("dtypes.integer_index");function F(e,m,o,j,h,f){var b,v,c,y,w,k,S,V,O,z;if(b=arguments.length,!t(e))throw new TypeError(T("null5t",e));if(!t(o))throw new TypeError(T("invalid argument. Third argument must be an ndarray-like object. Value: `%s`.",o));if(b<5){if(!s(S=j))throw new TypeError(T("null32",S))}else if(b>5){if(w=!0,z=j,!s(S=h))throw new TypeError(T("null31",S));k=f}else if(s(j))S=j,k=h;else{if(!s(h))throw new TypeError(T("null31",h));w=!0,z=j,S=h}if(V=P(e),v=E({},R),w&&(c=A(v,V,z)))throw c;if(null===v.dims&&(v.dims=x(V)),y=p(e),t(m)){if(!i(a(m)))throw new TypeError(T("invalid argument. Second argument must have an integer data type. Value: `%s`.",m));try{O=u(m,l(o))}catch(c){throw new Error("invalid argument. Second argument must be broadcast-compatible with the non-reduced dimensions of the input array.")}}else{if(!r(m))throw new TypeError(T("invalid argument. Second argument must be an integer or an ndarray-like object. Value: `%s`.",m));O=g(m,D,l(o),y)}return n(d,[e,o,O],v.dims,S,k),o}e(C,"assign",F);export{F as assign,C as default};
//# sourceMappingURL=index.mjs.map

{"version":3,"file":"index.mjs","sources":["../lib/validate.js","../lib/main.js","../lib/assign.js","../lib/index.js"],"sourcesContent":["/**\n* @license Apache-2.0\n*\n* Copyright (c) 2025 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nimport isObject from '@stdlib/assert-is-plain-object';\nimport hasOwnProp from '@stdlib/assert-has-own-property';\nimport { isPrimitive as isBoolean } from '@stdlib/assert-is-boolean';\nimport { primitives as isIntegerArray } from '@stdlib/assert-is-integer-array';\nimport isEmptyCollection from '@stdlib/assert-is-empty-collection';\nimport normalizeIndices from '@stdlib/ndarray-base-to-unique-normalized-indices';\nimport join from '@stdlib/array-base-join';\nimport format from '@stdlib/error-tools-fmtprodmsg';\n\n\n// MAIN //\n\n/**\n* Validates function options.\n*\n* @private\n* @param {Object} opts - destination object\n* @param {NonNegativeInteger} ndims - number of input ndarray dimensions\n* @param {Options} options - function options\n* @param {boolean} [options.keepdims] - boolean indicating whether the reduced dimensions should be included in the returned ndarray as singleton dimensions\n* @param {IntegerArray} [options.dims] - list of dimensions over which to perform a reduction\n* @returns {(Error|null)} null or an error object\n*\n* @example\n* var opts = {};\n* var options = {\n*     'keepdims': true\n* };\n* var err = validate( opts, 3, options );\n* if ( err ) {\n*     throw err;\n* }\n*/\nfunction validate( opts, ndims, options ) {\n\tvar tmp;\n\tif ( !isObject( options ) ) {\n\t\treturn new TypeError( format( 'null2V', options ) );\n\t}\n\tif ( hasOwnProp( options, 'keepdims' ) ) {\n\t\topts.keepdims = options.keepdims;\n\t\tif ( !isBoolean( opts.keepdims ) ) {\n\t\t\treturn new TypeError( format( 'null2o', 'keepdims', opts.keepdims ) );\n\t\t}\n\t}\n\tif ( hasOwnProp( options, 'dims' ) ) {\n\t\topts.dims = options.dims;\n\t\tif ( !isIntegerArray( opts.dims ) && !isEmptyCollection( opts.dims ) ) {\n\t\t\treturn new TypeError( format( 'invalid option. `%s` option must be an array of integers. Option: `%s`.', 'dims', opts.dims ) );\n\t\t}\n\t\ttmp = normalizeIndices( opts.dims, ndims-1 );\n\t\tif ( tmp === null ) {\n\t\t\treturn new RangeError( format( 'invalid option. `%s` option contains an out-of-bounds dimension index. Option: [%s].', 'dims', join( opts.dims, ',' ) ) );\n\t\t}\n\t\tif ( tmp.length !== opts.dims.length ) {\n\t\t\treturn new Error( format( 'invalid option. `%s` option contains duplicate indices. Option: [%s].', 'dims', join( opts.dims, ',' ) ) );\n\t\t}\n\t\topts.dims = tmp;\n\t}\n\treturn null;\n}\n\n\n// EXPORTS //\n\nexport default validate;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2025 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nimport isFunction from '@stdlib/assert-is-function';\nimport { isPrimitive as isInteger } from '@stdlib/assert-is-integer';\nimport isndarrayLike from '@stdlib/assert-is-ndarray-like';\nimport isIntegerDataType from '@stdlib/ndarray-base-assert-is-integer-data-type';\nimport unaryReduceSubarrayBy from '@stdlib/ndarray-base-unary-reduce-subarray-by';\nimport base from '@stdlib/ndarray-base-some-by';\nimport spreadDimensions from '@stdlib/ndarray-base-spread-dimensions';\nimport indicesComplement from '@stdlib/array-base-indices-complement';\nimport getDtype from '@stdlib/ndarray-dtype';\nimport getShape from '@stdlib/ndarray-shape'; // note: non-base accessor is intentional due to the input array originating in userland\nimport getOrder from '@stdlib/ndarray-base-order';\nimport getData from '@stdlib/ndarray-base-data-buffer';\nimport getStrides from '@stdlib/ndarray-base-strides';\nimport getOffset from '@stdlib/ndarray-base-offset';\nimport defaults from '@stdlib/ndarray-defaults';\nimport empty from '@stdlib/ndarray-empty';\nimport ndarrayCtor from '@stdlib/ndarray-base-ctor';\nimport maybeBroadcastArray from '@stdlib/ndarray-base-maybe-broadcast-array';\nimport broadcastScalar from '@stdlib/ndarray-base-broadcast-scalar';\nimport reinterpretBoolean from '@stdlib/strided-base-reinterpret-boolean';\nimport takeIndexed from '@stdlib/array-base-take-indexed';\nimport zeroTo from '@stdlib/array-base-zero-to';\nimport objectAssign from '@stdlib/object-assign';\nimport format from '@stdlib/error-tools-fmtprodmsg';\nimport DEFAULTS from './defaults.json';\nimport validate from './validate.js';\n\n\n// VARIABLES //\n\nvar DEFAULT_DTYPE = defaults.get( 'dtypes.integer_index' );\n\n\n// MAIN //\n\n/**\n* Tests whether at least `n` elements along one or more ndarray dimensions pass a test implemented by a predicate function.\n*\n* @param {ndarray} x - input ndarray\n* @param {(ndarray|integer)} n - number of elements which must pass a test\n* @param {Options} [options] - function options\n* @param {IntegerArray} [options.dims] - list of dimensions over which to perform a reduction\n* @param {boolean} [options.keepdims=false] - boolean indicating whether the reduced dimensions should be included in the returned ndarray as singleton dimensions\n* @param {Function} predicate - predicate function\n* @param {*} [thisArg] - predicate function execution context\n* @throws {TypeError} first argument must be an ndarray-like object\n* @throws {TypeError} second argument must be an ndarray-like object or a scalar value\n* @throws {TypeError} options argument must be an object\n* @throws {TypeError} callback argument must be a function\n* @throws {RangeError} dimension indices must not exceed input ndarray bounds\n* @throws {Error} dimension indices must be unique\n* @throws {Error} must provide valid options\n* @returns {ndarray} output ndarray\n*\n* @example\n* import Float64Array from '@stdlib/array-float64';\n* import { isPrimitive as isEven } from '@stdlib/assert-is-even';\n* import ndarray from '@stdlib/ndarray-ctor';\n*\n* // Create a data buffer:\n* var xbuf = new Float64Array( [ 1.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8.0, 9.0, 10.0, 11.0, 12.0 ] );\n*\n* // Define the shape of the input array:\n* var sh = [ 3, 1, 2 ];\n*\n* // Define the array strides:\n* var sx = [ 4, 4, 1 ];\n*\n* // Define the index offset:\n* var ox = 1;\n*\n* // Create an input ndarray:\n* var x = new ndarray( 'float64', xbuf, sh, sx, ox, 'row-major' );\n*\n* // Perform reduction:\n* var out = someBy( x, 3, isEven );\n* // returns <ndarray>\n*\n* var v = out.get();\n* // returns true\n*/\nfunction someBy( x, n, options, predicate, thisArg ) {\n\tvar nargs;\n\tvar opts;\n\tvar view;\n\tvar ctx;\n\tvar err;\n\tvar idx;\n\tvar shx;\n\tvar shy;\n\tvar ord;\n\tvar flg;\n\tvar cb;\n\tvar N;\n\tvar v;\n\tvar y;\n\tvar o;\n\n\tnargs = arguments.length;\n\tif ( !isndarrayLike( x ) ) {\n\t\tthrow new TypeError( format( 'null5t', x ) );\n\t}\n\t// Case: someBy( x, n, predicate )\n\tif ( nargs < 4 ) {\n\t\tif ( !isFunction( options ) ) {\n\t\t\tthrow new TypeError( format( 'null3N', options ) );\n\t\t}\n\t\tcb = options;\n\t}\n\t// Case: someBy( x, n, options, predicate, thisArg )\n\telse if ( nargs > 4 ) {\n\t\tflg = true;\n\t\to = options;\n\t\tcb = predicate;\n\t\tif ( !isFunction( cb ) ) {\n\t\t\tthrow new TypeError( format( 'null32', cb ) );\n\t\t}\n\t\tctx = thisArg;\n\t}\n\t// Case: someBy( x, n, predicate, thisArg )\n\telse if ( isFunction( options ) ) {\n\t\tcb = options;\n\t\tctx = predicate;\n\t}\n\t// Case: someBy( x, n, options, predicate )\n\telse if ( isFunction( predicate ) ) {\n\t\tflg = true;\n\t\to = options;\n\t\tcb = predicate;\n\t}\n\t// Case: someBy( x, n, ???, ??? )\n\telse {\n\t\tthrow new TypeError( format( 'null32', predicate ) );\n\t}\n\tshx = getShape( x );\n\tN = shx.length;\n\n\topts = objectAssign( {}, DEFAULTS );\n\tif ( flg ) {\n\t\terr = validate( opts, N, o );\n\t\tif ( err ) {\n\t\t\tthrow err;\n\t\t}\n\t}\n\t// When a list of dimensions is not provided, reduce the entire input array across all dimensions...\n\tif ( opts.dims === null ) {\n\t\topts.dims = zeroTo( N );\n\t}\n\t// Resolve the list of non-reduced dimensions:\n\tidx = indicesComplement( N, opts.dims );\n\n\t// Resolve the output array shape:\n\tshy = takeIndexed( shx, idx );\n\n\t// Resolve input array meta data:\n\tord = getOrder( x );\n\n\tif ( isndarrayLike( n ) ) {\n\t\tif ( !isIntegerDataType( getDtype( n ) ) ) {\n\t\t\tthrow new TypeError( format( 'invalid argument. Second argument must have an integer data type. Value: `%s`.', n ) );\n\t\t}\n\t\ttry {\n\t\t\tv = maybeBroadcastArray( n, shy );\n\t\t} catch ( err ) { // eslint-disable-line no-unused-vars\n\t\t\tthrow new Error( 'invalid argument. Second argument must be broadcast-compatible with the non-reduced dimensions of the input array.' );\n\t\t}\n\t} else {\n\t\tif ( !isInteger( n ) ) {\n\t\t\tthrow new TypeError( format( 'invalid argument. Second argument must be an integer or an ndarray-like object. Value: `%s`.', n ) );\n\t\t}\n\t\tv = broadcastScalar( n, DEFAULT_DTYPE, shy, ord );\n\t}\n\t// Initialize an output array whose shape matches that of the non-reduced dimensions and which has the same memory layout as the input array:\n\ty = empty( shy, {\n\t\t'dtype': 'bool',\n\t\t'order': ord\n\t});\n\n\t// Reinterpret the output array as an \"indexed\" array to ensure faster element access:\n\tview = new ndarrayCtor( 'uint8', reinterpretBoolean( getData( y ), 0 ), shy, getStrides( y, false ), getOffset( y ), getOrder( y ) );\n\n\t// Perform the reduction:\n\tunaryReduceSubarrayBy( base, [ x, view, v ], opts.dims, cb, ctx );\n\n\t// Check whether we need to reinsert singleton dimensions which can be useful for broadcasting the returned output array to the shape of the original input array...\n\tif ( opts.keepdims ) {\n\t\ty = spreadDimensions( N, y, idx );\n\t}\n\treturn y;\n}\n\n\n// EXPORTS //\n\nexport default someBy;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2025 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nimport isFunction from '@stdlib/assert-is-function';\nimport { isPrimitive as isInteger } from '@stdlib/assert-is-integer';\nimport isIntegerDataType from '@stdlib/ndarray-base-assert-is-integer-data-type';\nimport isndarrayLike from '@stdlib/assert-is-ndarray-like';\nimport unaryReduceSubarrayBy from '@stdlib/ndarray-base-unary-reduce-subarray-by';\nimport ndims from '@stdlib/ndarray-ndims';\nimport base from '@stdlib/ndarray-base-some-by';\nimport getDtype from '@stdlib/ndarray-dtype';\nimport getShape from '@stdlib/ndarray-shape'; // note: non-base accessor is intentional due to the input arrays originating in userland\nimport getOrder from '@stdlib/ndarray-base-order';\nimport defaults from '@stdlib/ndarray-defaults';\nimport maybeBroadcastArray from '@stdlib/ndarray-base-maybe-broadcast-array';\nimport broadcastScalar from '@stdlib/ndarray-base-broadcast-scalar';\nimport objectAssign from '@stdlib/object-assign';\nimport zeroTo from '@stdlib/array-base-zero-to';\nimport format from '@stdlib/error-tools-fmtprodmsg';\nimport DEFAULTS from './defaults.json';\nimport validate from './validate.js';\n\n\n// VARIABLES //\n\nvar DEFAULT_DTYPE = defaults.get( 'dtypes.integer_index' );\n\n\n// MAIN //\n\n/**\n* Tests whether at least `n` elements along one or more ndarray dimensions pass a test implemented by a predicate function.\n*\n* @param {ndarray} x - input ndarray\n* @param {(ndarray|integer)} n - number of elements which must pass the test\n* @param {ndarray} y - output ndarray\n* @param {Options} [options] - function options\n* @param {IntegerArray} [options.dims] - list of dimensions over which to perform a reduction\n* @param {Function} predicate - predicate function\n* @param {*} [thisArg] - predicate execution context\n* @throws {TypeError} first argument must be an ndarray-like object\n* @throws {Error} second argument must be broadcast-compatible with the non-reduced dimensions of the input ndarray\n* @throws {TypeError} third argument must be an ndarray-like object\n* @throws {TypeError} options argument must be an object\n* @throws {TypeError} callback argument must be a function\n* @throws {Error} must provide valid options\n* @returns {ndarray} output ndarray\n*\n* @example\n* import Float64Array from '@stdlib/array-float64';\n* import ndarray from '@stdlib/ndarray-ctor';\n* import { isPrimitive as isEven } from '@stdlib/assert-is-even';\n* import empty from '@stdlib/ndarray-empty';\n*\n* // Create a data buffer:\n* var xbuf = new Float64Array( [ 1.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8.0, 9.0, 10.0, 11.0, 12.0 ] );\n*\n* // Define the shape of the input array:\n* var shape = [ 3, 1, 2 ];\n*\n* // Define the array strides:\n* var sx = [ 4, 4, 1 ];\n*\n* // Define the index offset:\n* var ox = 1;\n*\n* // Create an input ndarray:\n* var x = new ndarray( 'float64', xbuf, shape, sx, ox, 'row-major' );\n*\n* // Create an output ndarray:\n* var y = empty( [], {\n*     'dtype': 'bool'\n* });\n*\n* // Perform reduction:\n* var out = assign( x, 3, y, isEven );\n* // returns <ndarray>\n*\n* var v = out.get();\n* // returns true\n*/\nfunction assign( x, n, y, options, predicate, thisArg ) {\n\tvar nargs;\n\tvar opts;\n\tvar err;\n\tvar ord;\n\tvar flg;\n\tvar ctx;\n\tvar cb;\n\tvar N;\n\tvar v;\n\tvar o;\n\n\tnargs = arguments.length;\n\tif ( !isndarrayLike( x ) ) {\n\t\tthrow new TypeError( format( 'null5t', x ) );\n\t}\n\tif ( !isndarrayLike( y ) ) {\n\t\tthrow new TypeError( format( 'invalid argument. Third argument must be an ndarray-like object. Value: `%s`.', y ) );\n\t}\n\t// Case: assign( x, n, y, predicate )\n\tif ( nargs < 5 ) {\n\t\tcb = options;\n\t\tif ( !isFunction( cb ) ) {\n\t\t\tthrow new TypeError( format( 'null32', cb ) );\n\t\t}\n\t}\n\t// Case: assign( x, n, y, options, predicate, thisArg )\n\telse if ( nargs > 5 ) {\n\t\tflg = true;\n\t\to = options;\n\t\tcb = predicate;\n\t\tif ( !isFunction( cb ) ) {\n\t\t\tthrow new TypeError( format( 'null31', cb ) );\n\t\t}\n\t\tctx = thisArg;\n\t}\n\t// Case: assign( x, n, y, predicate, thisArg )\n\telse if ( isFunction( options ) ) {\n\t\tcb = options;\n\t\tctx = predicate;\n\t}\n\t// Case: assign( x, n, y, options, predicate )\n\telse if ( isFunction( predicate ) ) {\n\t\tflg = true;\n\t\to = options;\n\t\tcb = predicate;\n\t}\n\t// Case: assign( x, n, y, ???, ??? )\n\telse {\n\t\tthrow new TypeError( format( 'null31', predicate ) );\n\t}\n\tN = ndims( x );\n\topts = objectAssign( {}, DEFAULTS );\n\tif ( flg ) {\n\t\terr = validate( opts, N, o );\n\t\tif ( err ) {\n\t\t\tthrow err;\n\t\t}\n\t}\n\t// When a list of dimensions is not provided, reduce the entire input array across all dimensions...\n\tif ( opts.dims === null ) {\n\t\topts.dims = zeroTo( N );\n\t}\n\t// Resolve input array meta data:\n\tord = getOrder( x );\n\n\tif ( isndarrayLike( n ) ) {\n\t\tif ( !isIntegerDataType( getDtype( n ) ) ) {\n\t\t\tthrow new TypeError( format( 'invalid argument. Second argument must have an integer data type. Value: `%s`.', n ) );\n\t\t}\n\t\ttry {\n\t\t\tv = maybeBroadcastArray( n, getShape( y ) );\n\t\t} catch ( err ) { // eslint-disable-line no-unused-vars\n\t\t\tthrow new Error( 'invalid argument. Second argument must be broadcast-compatible with the non-reduced dimensions of the input array.' );\n\t\t}\n\t} else {\n\t\tif ( !isInteger( n ) ) {\n\t\t\tthrow new TypeError( format( 'invalid argument. Second argument must be an integer or an ndarray-like object. Value: `%s`.', n ) );\n\t\t}\n\t\tv = broadcastScalar( n, DEFAULT_DTYPE, getShape( y ), ord );\n\t}\n\t// Perform the reduction:\n\tunaryReduceSubarrayBy( base, [ x, y, v ], opts.dims, cb, ctx ); // note: we assume that this lower-level function handles further validation of the output ndarray (e.g., expected shape, etc)\n\treturn y;\n}\n\n\n// EXPORTS //\n\nexport default assign;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2025 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Test whether at least `n` elements along one or more ndarray dimensions pass a test implemented by a predicate function.\n*\n* @module @stdlib/ndarray-some-by\n*\n* @example\n* import Float64Array from '@stdlib/array-float64';\n* import ndarray from '@stdlib/ndarray-ctor';\n* import someBy from '@stdlib/ndarray-some-by';\n*\n* // Create a data buffer:\n* var xbuf = new Float64Array( [ 1.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8.0, 9.0, 10.0, 11.0, 12.0 ] );\n*\n* // Define the shape of the input array:\n* var sh = [ 3, 1, 2 ];\n*\n* // Define the array strides:\n* var sx = [ 4, 4, 1 ];\n*\n* // Define the index offset:\n* var ox = 1;\n*\n* // Create an input ndarray:\n* var x = new ndarray( 'float64', xbuf, sh, sx, ox, 'row-major' );\n*\n* // Perform reduction:\n* var out = someBy( x, 6 );\n* // returns <ndarray>\n*\n* var v = out.get();\n* // returns true\n*\n* @example\n* import Float64Array from '@stdlib/array-float64';\n* import ndarray from '@stdlib/ndarray-ctor';\n* import empty from '@stdlib/ndarray-empty';\n* import someBy from '@stdlib/ndarray-some-by';\n*\n* // Create a data buffer:\n* var xbuf = new Float64Array( [ 1.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8.0, 9.0, 10.0, 11.0, 12.0 ] );\n*\n* // Define the shape of the input array:\n* var shape = [ 3, 1, 2 ];\n*\n* // Define the array strides:\n* var sx = [ 4, 4, 1 ];\n*\n* // Define the index offset:\n* var ox = 1;\n*\n* // Create an input ndarray:\n* var x = new ndarray( 'float64', xbuf, shape, sx, ox, 'row-major' );\n*\n* // Create an output ndarray:\n* var y = empty( [], {\n*     'dtype': 'bool'\n* });\n*\n* // Perform reduction:\n* var out = someBy.assign( x, 6.0, y );\n* // returns <ndarray>\n*\n* var v = out.get();\n* // returns true\n*/\n\n// MODULES //\n\nimport setReadOnly from '@stdlib/utils-define-nonenumerable-read-only-property';\nimport main from './main.js';\nimport assign from './assign.js';\n\n\n// MAIN //\n\nsetReadOnly( main, 'assign', assign );\n\n\n// EXPORTS //\n\nexport default main;\n\n// exports: { \"assign\": \"main.assign\" }\n"],"names":["validate","opts","ndims","options","tmp","isObject","TypeError","format","hasOwnProp","keepdims","isBoolean","dims","isIntegerArray","isEmptyCollection","normalizeIndices","RangeError","join","length","Error","DEFAULT_DTYPE","defaults","get","someBy","x","n","predicate","thisArg","nargs","view","ctx","err","idx","shx","shy","ord","flg","cb","N","v","y","o","arguments","isndarrayLike","isFunction","getShape","objectAssign","DEFAULTS","zeroTo","indicesComplement","takeIndexed","getOrder","isIntegerDataType","getDtype","maybeBroadcastArray","isInteger","broadcastScalar","empty","dtype","order","ndarrayCtor","reinterpretBoolean","getData","getStrides","getOffset","unaryReduceSubarrayBy","base","spreadDimensions","assign","setReadOnly","main"],"mappings":"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"}